<?xml version="1.0"?>
<!-- 
  gluon.urdf.xacro - 主机器人描述文件 (Entry Point)
  
  这是 Gluon 机器人的顶层 URDF/Xacro 描述文件。
  它负责包含所有必要的子组件并实例化整个机器人模型。
  推荐使用此文件作为生成最终 URDF 的入口点。
  
  支持的使用方式:
  1. 仿真模式 (默认):
     xacro gluon.urdf.xacro
   
  2. 真实硬件模式:
     xacro gluon.urdf.xacro use_mock_hardware:=false hardware_plugin:=gluon_hardware/GluonHardware
   
  3. 其他自定义硬件:
     xacro gluon.urdf.xacro use_mock_hardware:=false hardware_plugin:=your.hardware.plugin
-->
<robot name="gluon" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- =================================== -->
  <!-- 参数定义                             -->
  <!-- =================================== -->
  <!-- 是否使用模拟硬件 (默认为 true，适用于仿真) -->
  <xacro:arg name="use_mock_hardware" default="true"/>
  <!-- 指定硬件接口插件 (当 use_mock_hardware 为 false 时使用) -->
  <xacro:arg name="hardware_plugin" default="mock_components/GenericSystem"/>
  
  <!-- =================================== -->
  <!-- 包含子模块                           -->
  <!-- =================================== -->
  <!-- 包含机器人的基础连杆和关节定义 -->
  <xacro:include filename="$(find gluon_arm_description)/urdf/gluon_robot.urdf.xacro" />
  <!-- 包含 ros2_control 控制器硬件接口 -->
  <xacro:include filename="$(find gluon_arm_description)/urdf/gluon_ros2_control.xacro" />
  
  <!-- =================================== -->
  <!-- 实例化机器人组件                       -->
  <!-- =================================== -->
  <!-- 创建机器人机械结构 -->
  <xacro:gluon_robot/>
  
  <!-- 添加 ros2_control 硬件接口 -->
  <xacro:gluon_ros2_control 
    name="GluonRobot" 
    use_mock_hardware="$(arg use_mock_hardware)" 
    hardware_plugin="$(arg hardware_plugin)"/>

</robot>